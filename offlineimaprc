[general]
accounts = animech,google
maxsyncaccounts = 2
socktimout = 60
ssl = yes
starttls = yes
pythonfile = ~/scripts/mutt/imap-pass.py


[Account animech]
localrepository = animech-local
remoterepository = animech-remote

autorefresh = 1
quick = 10
postsynchook = ~/scripts/mutt/imap-post-sync.sh animech

[Repository animech-remote]
type = IMAP
remoteuser = oskar.grunning@animech.com
remotepasseval = imap_pass("mutt/animech")
remotehost = outlook.office365.com
remoteport = 993
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

keepalive = 60
holdconnectionopen = yes

folderfilter = lambda foldername: foldername in ['Arkiv',
                                                 'INBOX',
                                                 'Skickat',
                                                 'Skr&AOQ-ppost',
                                                 'Utkast']

nametrans = lambda foldername: re.sub('^Arkiv$', 'Archive',
                               re.sub('^INBOX$', 'Inbox',
                               re.sub('^Skickat$', 'Sent',
                               re.sub('^Skr&AOQ-ppost$', 'Trash',
                               re.sub('^Utkast$', 'Drafts',
                                 foldername)))))


[Account google]
localrepository = google-local
remoterepository = google-remote

autorefresh = 1
quick = 10
postsynchook = ~/scripts/mutt/imap-post-sync.sh google

[Repository animech-local]
type = Maildir
localfolders = ~/.mail/animech

[Repository google-remote]
type = Gmail
remoteuser = oskargrunning@gmail.com
remotepasseval = imap_pass("mutt/google")
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl_version = tls1_2

keepalive = 60
holdconnectionopen = yes

folderfilter = lambda foldername: foldername in ['[Gmail]/All Mail',
                                                 '[Gmail]/Drafts',
                                                 '[Gmail]/Sent Mail',
                                                 '[Gmail]/Spam',
                                                 '[Gmail]/Trash',
                                                 'Arch Linux',
                                                 'INBOX',
                                                 'Massdrop',
                                                 'NPM',
                                                 'Nintendo',
                                                 'Travis',
                                                 'Weeklies'
                                                 ]


nametrans = lambda foldername: re.sub('^\[Gmail\]/All Mail$', 'Archive',
                               re.sub('^\[Gmail\]/Drafts$', 'Drafts',
                               re.sub('^\[Gmail\]/Sent Mail$', 'Sent',
                               re.sub('^\[Gmail\]/Spam$', 'Spam',
                               re.sub('^\[Gmail\]/Trash$', 'Trash',
                               re.sub('^INBOX$', 'Inbox',
                                 foldername))))))

[Repository google-local]
type = Maildir
localfolders = ~/.mail/google
